#### クラス設計について(Web班第三回勉強会)

###### クラスを構成する主な要素
- プロパティ
  - インスタンス変数(クラスを`new`等でインスタンス化した際、実体を持つ変数)
  - クラス変数(`static`修飾子が付いたプロパティ、定義した時点で実体を持つ)
- メソッド
  - インスタンスメソッド(クラスをインスタンス化した際、実体を持つメソッド)
  - クラスメソッド(`static`修飾子が付いたメソッド、定義した時点で実体を持つ)
  - コンストラクタ(クラスをnew等でインスタンス化した際に実行されるメソッド)
  - デストラクタ(インスタンスを破棄する際、実行される。言語によるが、最近はガベージコレクションが有能なため、あまり自前で実装する事は無い)

> 注意しなければならない点は、クラス変数、クラスメソッドはインスタンス変数を使った処理が出来ないと言う事。

###### ざっくりとしたクラスの構造と効能

###### javascript

```javascript
class ClassWithPrivateField {
  #privateField; /* インスタンス変数 */
  
  /* コンストラクタ、newでインスタンス化する際、実行される */
  constructor(params) {
    this.#privateField = params;
  }
  
   /* インスタンスメソッド */
   hogehoge_method() {}
   
   /* インスタンス変数を取得するメソッド */
   getprivateField(){ return this.#privateField; }
}

const instance = new ClassWithPrivateField("コンストラクタに渡す値")
```

```php
class ClassWithPrivateField
{
    private $privateField; /* インスタンス変数 */

    /* コンストラクタ、newでインスタンス化する際、実行される */
    public function __construct($params)
    {
        $this->privateField = $params;
    }
    
    /* インスタンスメソッド */
    protected function hogehoge_method() : bool{}
    
    /* インスタンス変数を取得するメソッド */
    public function getprivateField() { return $this->privateField; }
}
```

> それぞれ違う言語なので仕様による多少の違いはあるが、大体こんな感じになる。と同時に、ここでクラスと言う粒度を用いる最も重要な仕様の一つが言語化されている。上記のコードのインスタンス変数は両者とも`private`と言う修飾子が与えられている。このインスタンス変数は、このクラスの外部からは全く触れる事の出来ない状態になっていると言う事になり、要はクラス外部(正確にはインスタンスの外部)からは一切触る事が出来ないため、一般的な手続き型の変数と比べ、堅牢度が高い。

> 続いて、`getprivateField`を見て欲しい。これは`public`と言う修飾子が与えられ、上述したインスタンス変数をそのまま返している。`public`は、クラス外部からもアクセス出来る事を意味する。つまり、`privateField`は、クラス外部からは値を取得する事のみ可能で、代入や削除等が出来ない、と言う事になる。極論言ってしまうと、クラスを用いる理由の半分以上は、この仕組みを用いるため、と言っても良いかもしれない。


###### ざっくりと、クラスを使うメリットとデメリット

- 相互に関係し合うデータと処理(メソッド/関数)を纏める一つの粒度(固まり)まとめる事が出来る。
- 
